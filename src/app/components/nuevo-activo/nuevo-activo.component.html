<section class="container">
    <div>
        <div class="flex align-items-center justify-content-between fondo">
            <div>
                <h1>Nuevo Activo</h1>
                <p>Alta de activos</p>
            </div>
        </div>
        <p-toast></p-toast>
        <p-steps [model]="items" [readonly]="true" [(activeIndex)]="activeIndex"
            (activeIndexChange)="onActiveIndexChange($event)"></p-steps>


        <div *ngIf="activeIndex === 0">
            <form [formGroup]="step1Form" class="p-grid p-dir-col p-fluid">
                <div class="p-col-12 p-md-6">
                    <p-card>

                        <ng-template pTemplate="title"> Tipo de Activo </ng-template>
                        <ng-template pTemplate="subtitle">A quien pertenece el activo</ng-template>
                        <ng-template pTemplate="content">


                            <div class="form-group"  *ngIf="tipo_activo_desc"><!--*ngIf="tipo_activo_desc"-->

                                <p-dropdown [options]="tipo_activo_desc" placeholder="Seleccione Tipo de activo"
                                    formControlName="idtipoactivo" optionLabel="descripcion"
                                    optionValue="idtipoactivo" (onChange)="onChangeTipoActivo()"></p-dropdown>
                                <p></p><!--if de validacion-->
                            </div>

                            <div class="form-group">
                                <p-dropdown formControlName="pertenencia" [options]="opciones" placeholder="Pertenencia"
                                    [showClear]="true"></p-dropdown>
                                <p></p><!--if de validacion-->
                            </div>
                            <div class="form-group" *ngIf="idtipoactivoSeleccionado === 1">
                                <p-dropdown formControlName="iddetallepc" [options]="detallepc" optionLabel="num_serie" placeholder="Detalle de Pc (num_serie)"
                                  (onChange)="onChangeDetallePc()" [showClear]="true"></p-dropdown>
                                <p></p><!--if de validacion-->
                            </div>
                            <div *ngIf="idtipoactivoSeleccionado === 1">
                                <p-button type="button" label="Detalles de la Pc"  routerLink="../detallePc" click="guardarActivo()"  icon="pi pi-plus" iconPos="right"></p-button>
                            </div>

                        </ng-template>

                        <ng-template pTemplate="footer">
                            <div class="grid grid-nogutter justify-content-end">
                                <p-button type="button" label="Siguiente" [disabled]="desactivarboton" (click)='!desactivarboton && activeIndex = 1' icon="pi pi-angle-right" iconPos="right"></p-button>
                            </div>
                        </ng-template>

                    </p-card>
                </div>
            </form>

        </div>

        <div *ngIf="activeIndex === 1">
            <form [formGroup]="step2Form">
                <p-card>
                    <ng-template pTemplate="title"> Datos Personales</ng-template>
                    <ng-template pTemplate="subtitle">Datos del usuario acargo del activo nuevo</ng-template>
                    <ng-template pTemplate="content">
                        <div class="grid">

                            <div class="form-group col-6">
                                <div class="field">
                                    <span class="p-float-label">
                                        <input formControlName="nombre_propietario" type="text" pInputText>
                                        <label htmlFor="nombre_propietario">Nombre del propietario</label>
                                        <p></p><!--if de validacion-->
                                    </span>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group">
                                    <span class="p-float-label">
                                        <input formControlName="num_empleado" type="text" pInputText>
                                        <label for="float-input">Numero de Empleado</label>
                                        <p></p><!--if de validacion-->
                                    </span>
                                </div>
                            </div>
                            <div class="form-group col-6">
                                <span class="p-float-label">
                                    <input formControlName="password" type="text" pInputText>
                                    <label for="float-input">Contrase√±a</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>
                            <div class="col-6">

                            </div>
                        </div>
                    </ng-template>

                    <ng-template pTemplate="footer">
                        <div class="grid grid-nogutter justify-content-end">
                            <p-button type="button" label="Siguiente" (click)="activeIndex = 2" icon="pi pi-angle-right"
                                iconPos="right"></p-button>
                            <p></p><!--On clic de siguiente pagina-->
                        </div>
                    </ng-template>

                </p-card>
            </form>
        </div>
        <div *ngIf="activeIndex === 2">
            <form [formGroup]="step3Form">
                <p-card>
                    <ng-template pTemplate="title">Lugar y Area</ng-template>
                    <ng-template pTemplate="subtitle">Lugar y area del activo</ng-template>
                    <ng-template pTemplate="content">
                        <div class="grid">
                            <div class="form-group col-6">
                                <span class="p-float-label">
                                    <input formControlName="idlugar" type="text" pInputText>
                                    <label for="float-input">Lugar</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="p-float-label">
                                        <input formControlName="idarea" type="text" pInputText>
                                        <label for="float-input">Area</label>
                                        <p></p><!--if de validacion-->
                                    </span>
                                </div>
                            </div>
                            <div class="col-6">

                            </div>
                            <div class="col-6">

                            </div>
                        </div>
                    </ng-template>

                    <ng-template pTemplate="footer">
                        <div class="grid grid-nogutter justify-content-end">
                            <p-button type="button" label="Siguiente" (click)="activeIndex = 3" icon="pi pi-angle-right"
                                iconPos="right"></p-button>
                            <p></p><!--On clic de siguiente pagina-->
                        </div>
                    </ng-template>

                </p-card>
            </form>
        </div>

        <div *ngIf="activeIndex === 3">
            <form [formGroup]="step4Form">
                <p-card>
                    <ng-template pTemplate="title"> Datos Del Equipo</ng-template>
                    <ng-template pTemplate="subtitle">Descripcion de todo el equipo</ng-template>
                    <ng-template pTemplate="content">
                        <div class="grid">
                        <div class="form-group col-3">
                            <span class="p-float-label">
                                <input formControlName="num_inventario" type="text" pInputText>
                                <label for="float-input">num_inventario</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>
                        <div class="form-group col-3">
                            <span class="p-float-label">
                                <input formControlName="fecha_compra" type="text" pInputText>
                                <label for="float-input">fecha de compra</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>

                        <div class="col-3">
                            <span class="p-float-label">
                                <input formControlName="nombre_equipo" type="text" pInputText>
                                <label for="float-input">Nombre del equipo</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>
                        <div class="col-3">
                            <div class="form-group">
                                <span class="p-float-label">
                                    <input formControlName="valor_monetario" type="text" pInputText>
                                    <label for="float-input">valor_monetario</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>
                        </div>
                       



                        <div class="col-3">
                            <span class="p-float-label">
                                <input formControlName="estado" type="text" pInputText>
                                <label for="float-input">estado</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>
                        <div class="col-3">
                            <div class="card flex justify-content-start">
                            <span class="p-float-label">
                                <textarea id="descripcion" rows="5" cols="30" pInputTextarea></textarea>
                                <label for="float-input">descripcion</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>
                        </div>
                        <div class="col-3">
                            <span class="p-float-label">
                                <input formControlName="marca" type="text" pInputText>
                                <label for="float-input">marca</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>

                        <div class="form-group col-3">
                            <span class="p-float-label">
                                <input formControlName="modelo" type="text" pInputText>
                                <label for="float-input">modelo</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>
                        <div class="col-3">
                            <span class="p-float-label">
                                <input formControlName="tipo_de_conexion" type="text" pInputText>
                                <label for="float-input">tipo_de_conexion</label>
                                <p></p><!--if de validacion-->
                            </span>
                        </div>
                        </div>
                    </ng-template>

                    <ng-template pTemplate="footer">
                        <div class="grid grid-nogutter justify-content-end">
                            <p-button type="button" label="Siguiente" (onClick)="activeIndex = 4"
                                icon="pi pi-angle-right" iconPos="right"></p-button>
                            <p></p><!--On clic de siguiente pagina-->
                        </div>
                    </ng-template>

                </p-card>
            </form>
        </div>
        <div *ngIf="activeIndex === 4">
            <form [formGroup]="step5Form">
                <p-card>
                    <ng-template pTemplate="title"> Activo</ng-template>
                    <ng-template pTemplate="subtitle">detalles del activo</ng-template>
                    <ng-template pTemplate="content">
                        <div class="grid">
                            <div class="col-3">
                                <span class="p-float-label">
                                    <input formControlName="idLicencias" type="text" pInputText>
                                    <label for="float-input">idLicencias</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>

                            <div class="col-3">
                                <span class="p-float-label">
                                    <input formControlName="host_teamviewer" type="text" pInputText>
                                    <label for="float-input">host teamviewer</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>

                            <div class="form-group col-3">
                                <span class="p-float-label">
                                    <input formControlName="password_teamviewer" type="text" pInputText>
                                    <label for="float-input">contrase√±a teamviewer</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>

                            <div class="col-3">
                                <span class="p-float-label">
                                    <input formControlName="fecha_mantenimiento" type="text" pInputText>
                                    <label for="float-input">fecha mantenimiento</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>
                            <div class="col-6">
                                <span class="p-float-label">
                                    <input formControlName="calculoEstimado" type="text" pInputText>
                                    <label for="float-input">Siguiente Mantenimiento</label>
                                    <p></p><!--if de validacion-->
                                </span>
                            </div>
                           
                        </div>
                        <div>
                            <p-button type="button" label="Accesorio" iconPos="right" icon="pi pi-plus"></p-button>
                        </div>
                    </ng-template>

                    <ng-template pTemplate="footer">
                        <div class="grid grid-nogutter justify-content-end">
                            <p-button type="button" label="Guardar" (input)="activeIndex = 5" icon="pi pi-check"
                                iconPos="right"></p-button>
                            <p></p><!--On clic de siguiente pagina-->
                        </div>
                    </ng-template>

                </p-card>
            </form>
        </div>







    </div>
</section>